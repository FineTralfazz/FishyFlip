### YamlMime:ApiPage
title: Class ATProtocol
body:
- api1: Class ATProtocol
  id: FishyFlip_ATProtocol
  src: https://github.com/drasticactions/FishyFlip/blob/main/src/FishyFlip/ATProtocol.cs#L11
  metadata:
    uid: FishyFlip.ATProtocol
    commentId: T:FishyFlip.ATProtocol
- facts:
  - name: Namespace
    value:
      text: FishyFlip
      url: FishyFlip.html
  - name: Assembly
    value: FishyFlip.dll
- markdown: >-
    AT Protocol.

    https://atproto.com/specs/atp.
- code: 'public sealed class ATProtocol : IDisposable'
- h4: Inheritance
- inheritance:
  - text: object
    url: https://learn.microsoft.com/dotnet/api/system.object
  - text: ATProtocol
    url: FishyFlip.ATProtocol.html
- h4: Implements
- list:
  - text: IDisposable
    url: https://learn.microsoft.com/dotnet/api/system.idisposable
- h4: Inherited Members
- list:
  - text: object.Equals(object?)
    url: https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)
  - text: object.Equals(object?, object?)
    url: https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)
  - text: object.GetHashCode()
    url: https://learn.microsoft.com/dotnet/api/system.object.gethashcode
  - text: object.GetType()
    url: https://learn.microsoft.com/dotnet/api/system.object.gettype
  - text: object.ReferenceEquals(object?, object?)
    url: https://learn.microsoft.com/dotnet/api/system.object.referenceequals
  - text: object.ToString()
    url: https://learn.microsoft.com/dotnet/api/system.object.tostring
- h2: Properties
- api3: Actor
  id: FishyFlip_ATProtocol_Actor
  src: https://github.com/drasticactions/FishyFlip/blob/main/src/FishyFlip/ATProtocol.cs#L94
  metadata:
    uid: FishyFlip.ATProtocol.Actor
    commentId: P:FishyFlip.ATProtocol.Actor
- markdown: Gets the ATProto Actor Protocol.
- code: public BlueskyActor Actor { get; }
- h4: Property Value
- parameters:
  - type:
    - text: BlueskyActor
      url: FishyFlip.BlueskyActor.html
- api3: Admin
  id: FishyFlip_ATProtocol_Admin
  src: https://github.com/drasticactions/FishyFlip/blob/main/src/FishyFlip/ATProtocol.cs#L74
  metadata:
    uid: FishyFlip.ATProtocol.Admin
    commentId: P:FishyFlip.ATProtocol.Admin
- markdown: Gets the ATProto Admin Protocol.
- code: public ATProtoAdmin Admin { get; }
- h4: Property Value
- parameters:
  - type:
    - text: ATProtoAdmin
      url: FishyFlip.ATProtoAdmin.html
- api3: BaseAddress
  id: FishyFlip_ATProtocol_BaseAddress
  src: https://github.com/drasticactions/FishyFlip/blob/main/src/FishyFlip/ATProtocol.cs#L140
  metadata:
    uid: FishyFlip.ATProtocol.BaseAddress
    commentId: P:FishyFlip.ATProtocol.BaseAddress
- markdown: Gets the base address for the underlying HttpClient.
- code: public Uri? BaseAddress { get; }
- h4: Property Value
- parameters:
  - type:
    - text: Uri
      url: https://learn.microsoft.com/dotnet/api/system.uri
    - '?'
- api3: Debug
  id: FishyFlip_ATProtocol_Debug
  src: https://github.com/drasticactions/FishyFlip/blob/main/src/FishyFlip/ATProtocol.cs#L110
  metadata:
    uid: FishyFlip.ATProtocol.Debug
    commentId: P:FishyFlip.ATProtocol.Debug
- markdown: >-
    Gets a debug protocol handle for interacting with ATProto.

    <xref href="FishyFlip.ATProtoDebug" data-throw-if-not-resolved="false"></xref>.
- code: public ATProtoDebug Debug { get; }
- h4: Property Value
- parameters:
  - type:
    - text: ATProtoDebug
      url: FishyFlip.ATProtoDebug.html
- api3: Feed
  id: FishyFlip_ATProtocol_Feed
  src: https://github.com/drasticactions/FishyFlip/blob/main/src/FishyFlip/ATProtocol.cs#L120
  metadata:
    uid: FishyFlip.ATProtocol.Feed
    commentId: P:FishyFlip.ATProtocol.Feed
- markdown: Gets the ATProto Feed Protocol.
- code: public BlueskyFeed Feed { get; }
- h4: Property Value
- parameters:
  - type:
    - text: BlueskyFeed
      url: FishyFlip.BlueskyFeed.html
- api3: Graph
  id: FishyFlip_ATProtocol_Graph
  src: https://github.com/drasticactions/FishyFlip/blob/main/src/FishyFlip/ATProtocol.cs#L125
  metadata:
    uid: FishyFlip.ATProtocol.Graph
    commentId: P:FishyFlip.ATProtocol.Graph
- markdown: Gets the ATProto Graph Protocol.
- code: public BlueskyGraph Graph { get; }
- h4: Property Value
- parameters:
  - type:
    - text: BlueskyGraph
      url: FishyFlip.BlueskyGraph.html
- api3: Identity
  id: FishyFlip_ATProtocol_Identity
  src: https://github.com/drasticactions/FishyFlip/blob/main/src/FishyFlip/ATProtocol.cs#L79
  metadata:
    uid: FishyFlip.ATProtocol.Identity
    commentId: P:FishyFlip.ATProtocol.Identity
- markdown: Gets the ATProto Identity Protocol.
- code: public ATProtoIdentity Identity { get; }
- h4: Property Value
- parameters:
  - type:
    - text: ATProtoIdentity
      url: FishyFlip.ATProtoIdentity.html
- api3: IsSubscriptionActive
  id: FishyFlip_ATProtocol_IsSubscriptionActive
  src: https://github.com/drasticactions/FishyFlip/blob/main/src/FishyFlip/ATProtocol.cs#L135
  metadata:
    uid: FishyFlip.ATProtocol.IsSubscriptionActive
    commentId: P:FishyFlip.ATProtocol.IsSubscriptionActive
- markdown: Gets a value indicating whether the subscription is active.
- code: public bool IsSubscriptionActive { get; }
- h4: Property Value
- parameters:
  - type:
    - text: bool
      url: https://learn.microsoft.com/dotnet/api/system.boolean
- api3: Label
  id: FishyFlip_ATProtocol_Label
  src: https://github.com/drasticactions/FishyFlip/blob/main/src/FishyFlip/ATProtocol.cs#L99
  metadata:
    uid: FishyFlip.ATProtocol.Label
    commentId: P:FishyFlip.ATProtocol.Label
- markdown: Gets the ATProto Label Protocol.
- code: public ATProtoLabel Label { get; }
- h4: Property Value
- parameters:
  - type:
    - text: ATProtoLabel
      url: FishyFlip.ATProtoLabel.html
- api3: Moderation
  id: FishyFlip_ATProtocol_Moderation
  src: https://github.com/drasticactions/FishyFlip/blob/main/src/FishyFlip/ATProtocol.cs#L104
  metadata:
    uid: FishyFlip.ATProtocol.Moderation
    commentId: P:FishyFlip.ATProtocol.Moderation
- markdown: Gets the ATProto Moderation Protocol.
- code: public ATProtoModeration Moderation { get; }
- h4: Property Value
- parameters:
  - type:
    - text: ATProtoModeration
      url: FishyFlip.ATProtoModeration.html
- api3: Notification
  id: FishyFlip_ATProtocol_Notification
  src: https://github.com/drasticactions/FishyFlip/blob/main/src/FishyFlip/ATProtocol.cs#L130
  metadata:
    uid: FishyFlip.ATProtocol.Notification
    commentId: P:FishyFlip.ATProtocol.Notification
- markdown: Gets the ATProto Notification Protocol.
- code: public BlueskyNotification Notification { get; }
- h4: Property Value
- parameters:
  - type:
    - text: BlueskyNotification
      url: FishyFlip.BlueskyNotification.html
- api3: Options
  id: FishyFlip_ATProtocol_Options
  src: https://github.com/drasticactions/FishyFlip/blob/main/src/FishyFlip/ATProtocol.cs#L59
  metadata:
    uid: FishyFlip.ATProtocol.Options
    commentId: P:FishyFlip.ATProtocol.Options
- markdown: Gets the ATProtocol Options.
- code: public ATProtocolOptions Options { get; }
- h4: Property Value
- parameters:
  - type:
    - text: ATProtocolOptions
      url: FishyFlip.ATProtocolOptions.html
- api3: Repo
  id: FishyFlip_ATProtocol_Repo
  src: https://github.com/drasticactions/FishyFlip/blob/main/src/FishyFlip/ATProtocol.cs#L89
  metadata:
    uid: FishyFlip.ATProtocol.Repo
    commentId: P:FishyFlip.ATProtocol.Repo
- markdown: Gets the ATProto Repo Protocol.
- code: public ATProtoRepo Repo { get; }
- h4: Property Value
- parameters:
  - type:
    - text: ATProtoRepo
      url: FishyFlip.ATProtoRepo.html
- api3: Server
  id: FishyFlip_ATProtocol_Server
  src: https://github.com/drasticactions/FishyFlip/blob/main/src/FishyFlip/ATProtocol.cs#L64
  metadata:
    uid: FishyFlip.ATProtocol.Server
    commentId: P:FishyFlip.ATProtocol.Server
- markdown: Gets the ATProto Server Protocol.
- code: public ATProtoServer Server { get; }
- h4: Property Value
- parameters:
  - type:
    - text: ATProtoServer
      url: FishyFlip.ATProtoServer.html
- api3: Session
  id: FishyFlip_ATProtocol_Session
  src: https://github.com/drasticactions/FishyFlip/blob/main/src/FishyFlip/ATProtocol.cs#L69
  metadata:
    uid: FishyFlip.ATProtocol.Session
    commentId: P:FishyFlip.ATProtocol.Session
- markdown: Gets the current ATProto Session. Null if no session is active.
- code: public Session? Session { get; }
- h4: Property Value
- parameters:
  - type:
    - text: Session
      url: FishyFlip.Models.Session.html
    - '?'
- api3: Sync
  id: FishyFlip_ATProtocol_Sync
  src: https://github.com/drasticactions/FishyFlip/blob/main/src/FishyFlip/ATProtocol.cs#L84
  metadata:
    uid: FishyFlip.ATProtocol.Sync
    commentId: P:FishyFlip.ATProtocol.Sync
- markdown: Gets the ATProto Sync Protocol.
- code: public ATProtoSync Sync { get; }
- h4: Property Value
- parameters:
  - type:
    - text: ATProtoSync
      url: FishyFlip.ATProtoSync.html
- api3: Unspecced
  id: FishyFlip_ATProtocol_Unspecced
  src: https://github.com/drasticactions/FishyFlip/blob/main/src/FishyFlip/ATProtocol.cs#L115
  metadata:
    uid: FishyFlip.ATProtocol.Unspecced
    commentId: P:FishyFlip.ATProtocol.Unspecced
- markdown: Gets the ATProto Unspecced Protocol.
- code: public BlueskyUnspecced Unspecced { get; }
- h4: Property Value
- parameters:
  - type:
    - text: BlueskyUnspecced
      url: FishyFlip.BlueskyUnspecced.html
- h2: Methods
- api3: Dispose()
  id: FishyFlip_ATProtocol_Dispose
  src: https://github.com/drasticactions/FishyFlip/blob/main/src/FishyFlip/ATProtocol.cs#L215
  metadata:
    uid: FishyFlip.ATProtocol.Dispose
    commentId: M:FishyFlip.ATProtocol.Dispose
- markdown: Performs application-defined tasks associated with freeing, releasing, or resetting unmanaged resources.
- code: public void Dispose()
- api3: RefreshSessionAsync()
  id: FishyFlip_ATProtocol_RefreshSessionAsync
  src: https://github.com/drasticactions/FishyFlip/blob/main/src/FishyFlip/ATProtocol.cs#L211
  metadata:
    uid: FishyFlip.ATProtocol.RefreshSessionAsync
    commentId: M:FishyFlip.ATProtocol.RefreshSessionAsync
- code: public Task RefreshSessionAsync()
- h4: Returns
- parameters:
  - type:
    - text: Task
      url: https://learn.microsoft.com/dotnet/api/system.threading.tasks.task
- api3: StartSubscribeLabelsAsync(CancellationToken?)
  id: FishyFlip_ATProtocol_StartSubscribeLabelsAsync_System_Nullable_System_Threading_CancellationToken__
  deprecated: Use ATWebSocketProtocol directly.
  src: https://github.com/drasticactions/FishyFlip/blob/main/src/FishyFlip/ATProtocol.cs#L166
  metadata:
    uid: FishyFlip.ATProtocol.StartSubscribeLabelsAsync(System.Nullable{System.Threading.CancellationToken})
    commentId: M:FishyFlip.ATProtocol.StartSubscribeLabelsAsync(System.Nullable{System.Threading.CancellationToken})
- markdown: Start the ATProtocol SubscribeRepos sync session.
- code: >-
    [Obsolete("Use ATWebSocketProtocol directly.")]

    public Task StartSubscribeLabelsAsync(CancellationToken? token = null)
- h4: Parameters
- parameters:
  - name: token
    type:
    - text: CancellationToken
      url: https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken
    - '?'
    description: Cancellation Token.
    optional: true
- h4: Returns
- parameters:
  - type:
    - text: Task
      url: https://learn.microsoft.com/dotnet/api/system.threading.tasks.task
    description: A <xref href="System.Threading.Tasks.Task" data-throw-if-not-resolved="false"></xref> representing the asynchronous operation.
- api3: StartSubscribeReposAsync(CancellationToken?)
  id: FishyFlip_ATProtocol_StartSubscribeReposAsync_System_Nullable_System_Threading_CancellationToken__
  deprecated: Use ATWebSocketProtocol directly.
  src: https://github.com/drasticactions/FishyFlip/blob/main/src/FishyFlip/ATProtocol.cs#L157
  metadata:
    uid: FishyFlip.ATProtocol.StartSubscribeReposAsync(System.Nullable{System.Threading.CancellationToken})
    commentId: M:FishyFlip.ATProtocol.StartSubscribeReposAsync(System.Nullable{System.Threading.CancellationToken})
- markdown: Start the ATProtocol SubscribeRepos sync session.
- code: >-
    [Obsolete("Use ATWebSocketProtocol directly.")]

    public Task StartSubscribeReposAsync(CancellationToken? token = null)
- h4: Parameters
- parameters:
  - name: token
    type:
    - text: CancellationToken
      url: https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken
    - '?'
    description: Cancellation Token.
    optional: true
- h4: Returns
- parameters:
  - type:
    - text: Task
      url: https://learn.microsoft.com/dotnet/api/system.threading.tasks.task
    description: A <xref href="System.Threading.Tasks.Task" data-throw-if-not-resolved="false"></xref> representing the asynchronous operation.
- api3: StopSubscriptionAsync(CancellationToken?)
  id: FishyFlip_ATProtocol_StopSubscriptionAsync_System_Nullable_System_Threading_CancellationToken__
  deprecated: Use ATWebSocketProtocol directly.
  src: https://github.com/drasticactions/FishyFlip/blob/main/src/FishyFlip/ATProtocol.cs#L175
  metadata:
    uid: FishyFlip.ATProtocol.StopSubscriptionAsync(System.Nullable{System.Threading.CancellationToken})
    commentId: M:FishyFlip.ATProtocol.StopSubscriptionAsync(System.Nullable{System.Threading.CancellationToken})
- markdown: Stops the ATProtocol Subscription session.
- code: >-
    [Obsolete("Use ATWebSocketProtocol directly.")]

    public Task StopSubscriptionAsync(CancellationToken? token = null)
- h4: Parameters
- parameters:
  - name: token
    type:
    - text: CancellationToken
      url: https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken
    - '?'
    description: Cancellation Token.
    optional: true
- h4: Returns
- parameters:
  - type:
    - text: Task
      url: https://learn.microsoft.com/dotnet/api/system.threading.tasks.task
    description: A <xref href="System.Threading.Tasks.Task" data-throw-if-not-resolved="false"></xref> representing the asynchronous operation.
- api3: UpdateOptions(ATProtocolOptions)
  id: FishyFlip_ATProtocol_UpdateOptions_FishyFlip_ATProtocolOptions_
  src: https://github.com/drasticactions/FishyFlip/blob/main/src/FishyFlip/ATProtocol.cs#L192
  metadata:
    uid: FishyFlip.ATProtocol.UpdateOptions(FishyFlip.ATProtocolOptions)
    commentId: M:FishyFlip.ATProtocol.UpdateOptions(FishyFlip.ATProtocolOptions)
- markdown: >-
    Update options for ATProto.

    This will log out the current session and dispose of the current session manager.
- code: public void UpdateOptions(ATProtocolOptions options)
- h4: Parameters
- parameters:
  - name: options
    type:
    - text: ATProtocolOptions
      url: FishyFlip.ATProtocolOptions.html
    description: Options.
- h4: Exceptions
- parameters:
  - type:
    - text: NullReferenceException
      url: https://learn.microsoft.com/dotnet/api/system.nullreferenceexception
    description: Thrown if missing options.
- api3: OnConnectionUpdated
  id: FishyFlip_ATProtocol_OnConnectionUpdated
  deprecated: Use ATWebSocketProtocol directly.
  src: https://github.com/drasticactions/FishyFlip/blob/main/src/FishyFlip/ATProtocol.cs#L49
  metadata:
    uid: FishyFlip.ATProtocol.OnConnectionUpdated
    commentId: E:FishyFlip.ATProtocol.OnConnectionUpdated
- markdown: Event for when a subscribed repo message is received.
- code: >-
    [Obsolete("Use ATWebSocketProtocol directly.")]

    public event EventHandler<SubscriptionConnectionStatusEventArgs>? OnConnectionUpdated
- h4: Event Type
- parameters:
  - type:
    - text: EventHandler
      url: https://learn.microsoft.com/dotnet/api/system.eventhandler-1
    - <
    - text: SubscriptionConnectionStatusEventArgs
      url: FishyFlip.Events.SubscriptionConnectionStatusEventArgs.html
    - '>'
    - '?'
- api3: OnSessionUpdated
  id: FishyFlip_ATProtocol_OnSessionUpdated
  src: https://github.com/drasticactions/FishyFlip/blob/main/src/FishyFlip/ATProtocol.cs#L54
  metadata:
    uid: FishyFlip.ATProtocol.OnSessionUpdated
    commentId: E:FishyFlip.ATProtocol.OnSessionUpdated
- markdown: Event for when a session is updated.
- code: public event EventHandler<SessionUpdatedEventArgs>? OnSessionUpdated
- h4: Event Type
- parameters:
  - type:
    - text: EventHandler
      url: https://learn.microsoft.com/dotnet/api/system.eventhandler-1
    - <
    - text: SessionUpdatedEventArgs
      url: FishyFlip.Events.SessionUpdatedEventArgs.html
    - '>'
    - '?'
- api3: OnSubscribedRepoMessage
  id: FishyFlip_ATProtocol_OnSubscribedRepoMessage
  deprecated: Use ATWebSocketProtocol directly.
  src: https://github.com/drasticactions/FishyFlip/blob/main/src/FishyFlip/ATProtocol.cs#L43
  metadata:
    uid: FishyFlip.ATProtocol.OnSubscribedRepoMessage
    commentId: E:FishyFlip.ATProtocol.OnSubscribedRepoMessage
- markdown: Event for when a subscribed repo message is received.
- code: >-
    [Obsolete("Use ATWebSocketProtocol directly.")]

    public event EventHandler<SubscribedRepoEventArgs>? OnSubscribedRepoMessage
- h4: Event Type
- parameters:
  - type:
    - text: EventHandler
      url: https://learn.microsoft.com/dotnet/api/system.eventhandler-1
    - <
    - text: SubscribedRepoEventArgs
      url: FishyFlip.Events.SubscribedRepoEventArgs.html
    - '>'
    - '?'
languageId: csharp
metadata:
  description: >-
    AT Protocol.

    https://atproto.com/specs/atp.
